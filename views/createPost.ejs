<%- include("./partials/header") %>
    <div class="main-container overflow-hidden">
        <div class="title-div flex justify-center items-center h-[80px] bg-white  mr-16 mt-10 mb-7">
            <h1 class="text-3xl font-bold">Create New Post</h1>
        </div>
        <div onclick="reverse(this)" class="w-[2vw] h-[2vw] absolute right-4 top-5">
            <i class="fa-solid fa-xmark w-full"></i>
        </div>

        <form action="/createPost" method="POST" enctype="multipart/form-data"
            class="second-mainDiv h-auto w-full flex gap-12 justify-center ">
            <div
                class="photo-upload h-[38vw] w-[35vw] border border-gray-300 flex flex-col items-center justify-center rounded-xl relative overflow-hidden">

                <!-- Image Preview (Initially Hidden) -->
                <img id="imagePreview" src="" alt="Preview"
                    class="absolute inset-0 w-full h-full object-cover object-center hidden z-10 rounded-xl" />

                <!-- Upload UI -->
                <div class="flex flex-col items-center z-0" id="uploadText">
                    <i class="fa-solid fa-cloud-arrow-up text-4xl text-gray-400 mb-4"></i>
                    <p class="text-gray-500 mb-1 text-xl">Drag and drop media here</p>
                    <p class="text-gray-500 mb-4 text-[13px]">or click to browse files</p>
                    <label for="photo"
                        class="cursor-pointer px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 mb-4">
                        Choose File
                    </label>
                    <input type="file" id="photo" name="media" accept="image/*" class="hidden"
                        onchange="previewSelectedImage(event)">
                </div>
            </div>


            <div class="photo-detailsDiv w-[40vw] border border-gray-300 flex flex-col rounded-xl">
                <div class="post-details  ml-10 w-[100% mr-10 mt-7">
                    <div class="mb-4">
                        <label for="caption" class="block text-sm font-medium text-gray-700 -ml-1">Caption</label>
                        <textarea id="caption" name="caption" rows="3"
                            class="mt-1 p-4 block w-full border border-gray-300 rounded-md focus:border-blue-500 sm:text-sm"
                            placeholder="Write a captivating caption..."></textarea>
                    </div>
                    <div class="mb-4">
                        <label for="tags" class="block text-sm font-medium text-gray-700 -ml-1">Tags</label>
                        <input type="text" id="tags" name="tags"
                            class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:border-gray-500 sm:text-sm"
                            placeholder="Add tags (e.g., #photography, #travel)">
                    </div>
                    <div class="mb-4">
                        <label for="location" class="block text-sm font-medium text-gray-700 -ml-1">Location</label>
                        <input type="text" id="location" name="location"
                            class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:border-blue-500 sm:text-sm"
                            placeholder="Add location (optional)">
                    </div>
                    <div class="mb-4 w-36 relative">
                        <label for="visibility"
                            class="block text-sm font-medium text-gray-700 -ml-1 mb-1">Visibility</label>
                        <div class="flex items-center border border-gray-300 rounded-md p-2 ">
                            <select id="visibility" name="visibility"
                                class="appearance-none bg-transparent w-full focus:outline-none">
                                <option value="public">Public</option>
                                <option value="private">Private</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="advanced-settings mt-1 w-full px-9 text-sm font-medium">
                    <div class="border border-gray-300 rounded-lg p-4">
                        <div class="advance-btnDiv flex justify-between items-center cursor-pointer"
                            onclick="toggleAdvancedSettings();">
                            <h2 class="advance-btn text-[15px] font-medium text-gray-700">Advanced Settings</h2>
                            <i id="advanced-settings-icon" class="fa-solid fa-chevron-down text-gray-500"></i>
                        </div>
                        <div id="advanced-settings-content" class="mt-4 hidden transition-all duration-300">
                            <div class="mb-4">
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2" name="hideLikeViewCounts">
                                    <span class="text-gray-700">Hide like and view counts on this post</span>
                                </label>
                                <p class="text-sm text-gray-500">Only you will see the total number of likes and
                                    views
                                    on this post. You can change this later by going to the menu at the top of the
                                    post.
                                </p>
                            </div>
                            <div class="mb-4">
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2" name="disableComments">
                                    <span class="text-gray-700">Turn off commenting</span>
                                </label>
                                <p class="text-sm text-gray-500">You can change this later by going to the menu at
                                    the
                                    top of your post.</p>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="flex justify-end mt-6 mb-4 px-10 border-none">
                    <div onclick="reverse(this)"
                        class="px-6 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 mr-2 cursor-pointer">
                        Cancel</div>
                    <button type="submit"
                        class="px-5 py-2 bg-stone-400 text-white rounded hover:bg-stone-500 cursor-pointer">Post</button>
                </div>
            </div>
        </form>
    </div>

    <%- include("./partials/footer") %>