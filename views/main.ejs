<%- include("./partials/header") %>
    <div class="w-full min-h-screen grid grid-cols-[20vw_1fr]">
        <div class="w-[20vw] h-full fixed z-50"> <%- include("./partials/sidebar") %></div>
        <div id="profile" class="tabs w-[80vw] min-h-screen  box-border px-5 col-start-2">
            <nav class="flex justify-end items-center p-4 text-[12px]">
                <div class="flex items-center">
                    <a href="/createPost"
                        class="w-[110px] h-[35px] border-1 flex justify-center items-center rounded px-2 bg-white text-gray-700 hover:bg-b cursor-pointer">
                        <i class="fa-solid fa-plus mr-2"></i>Create Post
                    </a>
                    <i class="fa-solid fa-gear mr-2 ml-3 text-[18px] p-3 text-gray-500 cursor-pointer"></i>
                    <img class="h-7 mr-5 cursor-pointer" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png"
                        alt="">
                </div>
            </nav>
            <div class="main-content flex ">
                <div class="pic-div p-8">
                    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt=""
                        class="h-30 w-30 rounded-full">
                </div>
                <div class="username-div mt-9 ml-1">
                    <h1 class="text-[20px] font-bold mb-2">
                        <%=user.firstName%>
                            <%=user.lastName%>
                    </h1>
                    <p class="text-gray-500 text-[12px]">Lorem ipsum dolor sit amet consectetur adipisicing elit.
                        Quisquam, voluptatibus.</p>
                    <div class="follower-post-div flex space-x-4 text-[14px] mt-4.5">
                        <span>
                            <%=posts?posts.length:'0'%><span class="text-gray-300">Posts</span>
                        </span>
                        <span>3321 <span class="text-gray-300">Followers</span></span>
                        <span>1543 <span class="text-gray-300">Following</span></span>
                    </div>
                </div>
                <div class="edit-profile-div flex justify-end items-center mt-9 text-[11px]">
                    <button
                        class="w-[95px] h-[28px] border-1 flex justify-center items-center rounded px-2 bg-white text-gray-700 hover:bg-b cursor-pointer ml-65 mb-10">
                        <i class="fa-solid fa-plus mr-2"></i>Edit Profile
                    </button>
                </div>
            </div>

            <div class="highlight-section flex items-center h-[120px] w-full space-x-4  ml-10 ">

                <div class="h-20 w-20 rounded-full border  p-1 flex justify-center items-center">
                    <div class="h-full w-full bg-white rounded-full flex justify-center items-center">
                        <img src="../images/add.png" class="w-[30px] h-[30px] rounded-full" alt="">
                    </div>
                </div>

                <div
                    class="h-20 w-20 rounded-full bg-gradient-to-r from-orange-400 via-red-500 to-pink-600 p-0.5 flex justify-center items-center">
                    <div class="h-full w-full bg-white rounded-full">
                        <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Story"
                            class="h-full w-full rounded-full">
                    </div>
                </div>
                <div
                    class="h-20 w-20 rounded-full bg-gradient-to-r from-orange-400 via-red-500 to-pink-600 p-0.5 flex justify-center items-center">
                    <div class="h-full w-full bg-white rounded-full">
                        <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Story"
                            class="h-full w-full rounded-full">
                    </div>
                </div>
                <div
                    class="h-20 w-20 rounded-full bg-gradient-to-r from-orange-400 via-red-500 to-pink-600 p-0.5 flex justify-center items-center">
                    <div class="h-full w-full bg-white rounded-full">
                        <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Story"
                            class="h-full w-full rounded-full">
                    </div>
                </div>
                <div
                    class="h-20 w-20 rounded-full bg-gradient-to-r from-orange-400 via-red-500 to-pink-600 p-0.5 flex justify-center items-center">
                    <div class="h-full w-full bg-white rounded-full">
                        <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Story"
                            class="h-full w-full rounded-full">
                    </div>
                </div>
            </div>


            <div class="flex justify-around items-center h-[30px] gap-2 font-bold text-blue-500 rounded-lg ">
                <h2 class="bg-amber-100 w-[33%] h-[100%] text-center rounded-lg" onclick="sectionToggle(this,'all')">All
                </h2>
                <h2 class="bg-amber-700  w-[33%] h-[100%] text-center rounded-lg" onclick="sectionToggle(this,'reels')">
                    Reels</h2>
                <h2 class=" bg-black  w-[33%] h-[100%] text-center rounded-lg" onclick="sectionToggle(this,'posts')">
                    Posts</h2>
            </div>

            <div class="posts-section flex-wrap box-border flex justify-start gap-2 h-[20px] w-full mt-4">
                <% posts.forEach((post)=>{%>
                   <a href="/postDetails/<%=post._id%>"> <div  class="post-card w-[270px] h-[300px] bg-gray-900  rounded-lg "
                        content-type="<%= post.video ? 'reels' : 'posts' %>">
                        <div class=" ..."></div>
                        <% if (post.video) { %>
                            <div class="w-full h-full object-cover relative">
                                <video paused class="w-full h-full object-cover">
                                    <source src="data:video/mp4;base64,<%= post.video.toString('base64') %>"
                                        type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                                <i class="fa-solid fa-play absolute top-2 right-2 text-white z-10"></i>
                            </div>
                            <% } else { %>
                                <img src="data:image/jpeg;base64,<%= post.image.toString('base64') %>" alt="Post Image"
                                    class="w-full h-full object-cover" />
                                <% } %>
                    </div>
                    </a>

                    <%});%>
            </div>


        </div>
        <div id="createPost" class="tabs main-container overflow-hidden  col-start-2 hidden">
            <div class="title-div flex justify-center items-center h-[80px] bg-white  mr-16 mt-10 mb-7">
                <h1 class="text-3xl font-bold">Create New Post</h1>
            </div>
            <form action="/createPost" method="POST" enctype="multipart/form-data">
                <div class="second-mainDiv h-auto w-full flex gap-12 justify-center ">

                    <div
                        class="photo-upload h-[18vw] w-[35vw] border border-gray-300 flex flex-col items-center justify-center rounded-xl">
                        <div class="flex flex-col items-center">
                            <div class="flex flex-col items-center">
                                <i class="fa-solid fa-cloud-arrow-up text-4xl text-gray-400 mb-4"></i>
                                <p class="text-gray-500 mb-1 text-xl">Drag and drop media here</p>
                                <p class="text-gray-500 mb-4 text-[13px]">or click to browse files</p>
                            </div>
                            <label for="photo"
                                class="cursor-pointer px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 mb-4">
                                Choose File
                            </label>
                            <input type="file" id="photo" name="media" accept="image/*,video/*" onchange="">
                        </div>

                    </div>


                    <div class="photo-detailsDiv w-[40vw] border border-gray-300 flex flex-col rounded-xl">

                        <div class="post-details  ml-10 w-[100% mr-10 mt-7">
                            <div class="mb-4">
                                <label for="caption"
                                    class="block text-sm font-medium text-gray-700 -ml-1">Caption</label>
                                <textarea id="caption" name="caption" rows="3"
                                    class="mt-1 p-4 block w-full border border-gray-300 rounded-md focus:border-blue-500 sm:text-sm"
                                    placeholder="Write a captivating caption..."></textarea>
                            </div>
                            <div class="mb-4">
                                <label for="tags" class="block text-sm font-medium text-gray-700 -ml-1">Tags</label>
                                <input type="text" id="tags" name="tags"
                                    class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:border-gray-500 sm:text-sm"
                                    placeholder="Add tags (e.g., #photography, #travel)">
                            </div>
                            <div class="mb-4">
                                <label for="location"
                                    class="block text-sm font-medium text-gray-700 -ml-1">Location</label>
                                <input type="text" id="location" name="location"
                                    class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:border-blue-500 sm:text-sm"
                                    placeholder="Add location (optional)">
                            </div>
                            <div class="mb-4 w-36 relative">
                                <label for="visibility"
                                    class="block text-sm font-medium text-gray-700 -ml-1 mb-1">Visibility</label>
                                <div class="flex items-center border border-gray-300 rounded-md p-2 ">
                                    <select id="visibility" name="visibility"
                                        class="appearance-none bg-transparent w-full focus:outline-none">
                                        <option value="public">Public</option>
                                        <option value="private">Private</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="advanced-settings mt-1 w-full px-9 text-sm font-medium">
                            <div class="border border-gray-300 rounded-lg p-4">
                                <div class="advance-btnDiv flex justify-between items-center cursor-pointer"
                                    onclick="toggleAdvancedSettings()">
                                    <h2 class="advance-btn text-[15px] font-medium text-gray-700">Advanced Settings
                                    </h2>
                                    <i id="advanced-settings-icon" class="fa-solid fa-chevron-down text-gray-500"></i>
                                </div>
                                <div id="advanced-settings-content" class="mt-4 hidden transition-all duration-300">
                                    <div class="mb-4">
                                        <label class="flex items-center">
                                            <input type="checkbox" class="mr-2">
                                            <span class="text-gray-700">Hide like and view counts on this
                                                post</span>
                                        </label>
                                        <p class="text-sm text-gray-500">Only you will see the total number of likes
                                            and
                                            views on this post. You can change this later by going to the menu at
                                            the
                                            top of
                                            the post.</p>
                                    </div>
                                    <div class="mb-4">
                                        <label class="flex items-center">
                                            <input type="checkbox" class="mr-2">
                                            <span class="text-gray-700">Turn off commenting</span>
                                        </label>
                                        <p class="text-sm text-gray-500">You can change this later by going to the
                                            menu
                                            at
                                            the top of your post.</p>
                                    </div>
                                    <div class="mb-4">
                                        <label class="flex items-center">
                                            <input type="checkbox" class="mr-2">
                                            <span class="text-gray-700">Automatically share to Threads</span>
                                        </label>
                                        <p class="text-sm text-gray-500">Always share your posts to Threads. You can
                                            change
                                            your audience on Threads settings.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-end mt-6 mb-4 px-10 border-none">
                            <button type="button"
                                class="px-6 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 mr-2 cursor-pointer">Cancel</button>
                            <button type="submit"
                                class="px-5 py-2 bg-stone-400 text-white rounded hover:bg-stone-500 cursor-pointer">Post</button>
                        </div>
                    </div>
                </div>


            </form>
        </div>
    </div>
    </div>


    </div>
    <%- include("./partials/footer") %>